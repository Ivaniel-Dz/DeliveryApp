<ion-content>
  <div class="home-container">
    <!-- Header -->
    <div class="header">
      <div>
        <h1>Delicious Delivery</h1>
        <p>¿Qué te gustaría comer hoy?</p>
      </div>
      <div class="cart-icon" [routerLink]="['/tabs/cart']">
        <ion-badge *ngIf="cartItemCount > 0"> {{ cartItemCount }} </ion-badge>
        <ion-icon name="bag-handle"></ion-icon>
      </div>
    </div>

    <!-- Banner -->
    <div class="banner">
      <div class="banner-content">
        <h2>30% de Descuento</h2>
        <p>En tu primer pedido</p>
        <ion-button size="small" shape="round">Ordenar Ahora</ion-button>
      </div>
    </div>

    <!-- Categories -->
    <div class="section">
      <div class="section-header">
        <h2>Categorías</h2>
        <a>Ver todo <ion-icon name="chevron-forward"></ion-icon></a>
      </div>
      <div class="categories-grid">
        <div class="category-item" *ngFor="let category of categories()" (click)="goToCategory(category.id)" >
          <div class="category-image">
            <img
              [src]="category.image || 'assets/placeholder/foods.webp'"
              [alt]="category.name"
              onerror="this.src='assets/placeholder/foods.webp'"
            />
          </div>
          <span> {{category.name}} </span>
        </div>
      </div>
    </div>

    <!-- Popular Items -->
    <div class="section">
      <div class="section-header">
        <h2>Populares</h2>
        <a>Ver todo <ion-icon name="chevron-forward"></ion-icon></a>
      </div>
      <div class="food-items">
        <div class="food-item" *ngFor="let item of popularItems" (click)="goToFoodDetail(item.id)" >
          <div class="food-image">
            <img
              [src]="item.image || 'assets/placeholder/foods.webp'"
              [alt]="item.name"
              onerror="this.src='assets/placeholder/foods.webp'"
            />
          </div>
          <div class="food-info">
            <h3>{{ item.name }}</h3>
            <p class="price">${{ item.price.toFixed(2) }}</p>
            <div class="rating">
              <ion-icon name="star" class="star-filled"></ion-icon>
              <span> {{ item.rating }} (120+) </span>
            </div>
          </div>
          <ion-button fill="clear" class="add-button" (click)="addCartItem(item)" >
            <ion-icon name="add"></ion-icon>
          </ion-button>
        </div>
      </div>
    </div>
  </div>
</ion-content>
