<ion-content class="ion-padding">
  <div class="login-container">
    <!-- Logo -->
    <div class="logo-container">
      <ion-img class="logo-img"
        src="assets/img/logo.webp"
        alt="Restaurant Logo">
      </ion-img>
    </div>
    <!-- Titulo -->
    <h1>Iniciar Sesión</h1>
    
    <!-- Formulario -->
    <form [formGroup]="form" (ngSubmit)="signIn()">
      <!-- Email -->
        <ion-item>
          <ion-input type="email" formControlName="email" labelPlacement="stacked" label="Email" placeholder="email@domain.com">
            <ion-icon slot="start" name="mail-outline" aria-hidden="true"></ion-icon>
          </ion-input>
        </ion-item>
        <!-- alerta -->
        <app-message-invalid [formGroup]="form" controlName="email" message="Email es requerido" />

      <!-- Password -->
      <ion-item>
        <ion-input type="password" formControlName="password" labelPlacement="stacked" label="Contraseña" placeholder="*********">
          <ion-icon slot="start" name="lock-closed-outline" aria-hidden="true"></ion-icon>
          <ion-input-password-toggle slot="end"></ion-input-password-toggle>
        </ion-input>
      </ion-item>
      <!-- alerta -->
      <app-message-invalid [formGroup]="form" controlName="password" message="La Contraseña es requerido" />

      <!-- Button -->
       <ion-button expand="block" type="submit" [disabled]="form.invalid || loading">
        <ion-spinner name="crescent" *ngIf="loading"></ion-spinner>
        <span *ngIf="!loading">Iniciar Sesión</span>
       </ion-button>

    </form>

    <!-- Error de servidor -->
    <app-message-error [errors]="errors"/>

    <!-- Auth2 -->
    <div class="social-login">
      <p>O Inicia sesión con</p>
      <ion-button class="btn-google" expand="block" fill="outline">
        <ion-icon name="logo-google" slot="start"></ion-icon>
          <ion-spinner name="crescent" *ngIf="loading"></ion-spinner>
          <span *ngIf="!loading">Google</span>
      </ion-button>
    </div>

    <!-- Redirige -->
    <p class="register-link">
      ¿No tienes una cuenta?
      <a (click)="goToRegister()">Regístrate</a>
    </p>

  </div>
</ion-content>